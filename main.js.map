{"version":3,"sources":["main.tsx"],"names":["GitHubAPI","path","$","getJSON","then","response","meta","status","Deferred","resolve","data","reject","message","truncate","s","n","length","slice","main","repoContainer","gistContainer","body","document","append","makeRepoListItem","repo","html_url","name","description","repos","filter","x","fork","html","map","fail","text","makeGistListItem","gist"],"mappings":"AAAA;AAEA,IAAIA,YAAY,UAACC,IAAD,EAAa;AAC3B,WAAAC,EAAEC,OAAF,CAAU,4BAA0BF,IAA1B,GAA+B,aAAzC,EAAwDG,IAAxD,CAA6D,UAAAC,QAAA,EAAQ;AACnE,eAACA,SAASC,IAAT,CAAcC,MAAd,IAAwB,GAAzB,GACIL,EAAEM,QAAF,GAAaC,OAAb,CAAqBJ,SAASK,IAA9B,CADJ,GAEIR,EAAEM,QAAF,GAAaG,MAAb,CAAqBN,SAASK,IAAT,CAAcE,OAAnC,CAFJ;AAE+C,KAHjD,CAAA;AAIC,CALH;AAOA,IAAIC,WAAW,UAACC,CAAD,EAAYC,CAAZ,EAAqB;AAClC,WAACD,EAAEE,MAAF,GAAWD,CAAZ,GAAiBD,EAAEG,KAAF,CAAQ,CAAR,EAAWF,IAAI,CAAf,IAAoB,GAArC,GAA2CD,CAA3C;AAA4C,CAD9C;AAGA,SAAAI,IAAA,GAAA;AACE,QAAIC,aAAJ,EAAmBC,aAAnB;AAEA,QAAIC,OAAO;AAAA;AAAA;AACT;AAAA;AAAA;AAAI;AAAA;AAAA,kBAAG,MAAK,kBAAR;AAAA;AAAA;AAAJ,SADS;AAET;AAAA;AAAA;AAAI;AAAA;AAAA,kBAAG,MAAK,kDAAR;AAAA;AAAA;AAAJ,SAFS;AAGT;AAAA;AAAA;AAAI;AAAA;AAAA,kBAAG,MAAK,0BAAR;AAAA;AAAA;AAAJ,SAHS;AAIRF,wBAAgB;AAAA;AAAA;AAAG;AAAA;AAAA;AAAA;AAAA;AAAH,SAJR;AAKT;AAAA;AAAA;AAAI;AAAA;AAAA,kBAAG,MAAK,+BAAR;AAAA;AAAA;AAAJ,SALS;AAMRC,wBAAgB;AAAA;AAAA;AAAG;AAAA;AAAA;AAAA;AAAA;AAAH;AANR,KAAX;AASAlB,MAAEoB,SAASD,IAAX,EAAiBE,MAAjB,CAAwBF,IAAxB;AAEA,QAAIG,mBAAoB,UAAAC,IAAA,EAAI;AAC1B,eAAA;AAAA;AAAA;AAAI;AAAA;AAAA,kBAAG,MAAMA,KAAKC,QAAd;AAAwB;AAAA;AAAA;AAASD,yBAAKE,IAAd;AAAA;AAAA,iBAAxB;AAAA;AAAuDF,qBAAKG;AAA5D;AAAJ,SAAA;AAAqF,KADvF;AAGA5B,cAAU,mBAAV,EACGI,IADH,CACQ,UAAAM,IAAA,EAAI;AACR,YAAImB,QAAQnB,KAAKoB,MAAL,CAAY,UAAAC,CAAA,EAAC;AAAI,mBAAA,CAACA,EAAEC,IAAH;AAAO,SAAxB,CAAZ;AACA9B,UAAEiB,aAAF,EAAiBc,IAAjB,CAAsB;AAAA;AAAA;AAAKJ,kBAAMK,GAAN,CAAUV,gBAAV;AAAL,SAAtB;AACD,KAJH,EAKGW,IALH,CAKQ,UAAAvB,OAAA,EAAO;AAAI,eAAAV,EAAEiB,aAAF,EAAiBiB,IAAjB,CAAsB,YAAYxB,OAAlC,CAAA;AAA0C,KAL7D;AAOA,QAAIyB,mBAAoB,UAAAC,IAAA,EAAI;AAC1B,eAAA;AAAA;AAAA;AAAI;AAAA;AAAA,kBAAG,MAAMA,KAAKZ,QAAd;AAAyBb,yBAASyB,KAAKV,WAAd,EAA2B,GAA3B;AAAzB;AAAJ,SAAA;AAAsE,KADxE;AAGA5B,cAAU,mBAAV,EACGI,IADH,CACQ,UAAAM,IAAA,EAAI;AAAO,eAAAR,EAAEkB,aAAF,EAAiBa,IAAjB,CAAsB;AAAA;AAAA;AAAKvB,iBAAKwB,GAAL,CAASG,gBAAT;AAAL,SAAtB,CAAA;AAA4D,KAD/E,EAEGF,IAFH,CAEQ,UAAAvB,OAAA,EAAO;AAAI,eAAAV,EAAEkB,aAAF,EAAiBgB,IAAjB,CAAsB,YAAYxB,OAAlC,CAAA;AAA0C,KAF7D;AAGD;AAEDV,EAAEgB,IAAF","file":"main.js","sourcesContent":["/** @jsx defsoftware.HTML.makeElement */\n\nlet GitHubAPI = (path: string): JQueryPromise<any> =>\n  $.getJSON(\"https://api.github.com/\"+path+\"?callback=?\").then(response =>\n    (response.meta.status == 200)\n      ? $.Deferred().resolve(response.data)\n      : $.Deferred().reject (response.data.message)\n  );\n\nlet truncate = (s: string, n: number) =>\n  (s.length > n) ? s.slice(0, n - 1) + \"…\" : s;\n\nfunction main() {\n  let repoContainer, gistContainer;\n\n  let body = <div>\n    <h1><a href=\"http://qerub.se/\">My Personal Website</a></h1>\n    <h1><a href=\"https://www.openhub.net/accounts/qerub/positions\">My Page on Open HUB</a></h1>\n    <h1><a href=\"https://github.com/qerub\">My GitHub Repositories</a></h1>\n    {repoContainer = <p><em>Loading…</em></p>}\n    <h1><a href=\"https://gist.github.com/qerub\">My Gists</a></h1>\n    {gistContainer = <p><em>Loading…</em></p>}\n  </div>;\n    \n  $(document.body).append(body);\n  \n  let makeRepoListItem = (repo =>\n    <li><a href={repo.html_url}><strong>{repo.name}:</strong> {repo.description}</a></li>);\n  \n  GitHubAPI(\"users/qerub/repos\")\n    .then(data => {\n      let repos = data.filter(x => !x.fork);\n      $(repoContainer).html(<ul>{repos.map(makeRepoListItem)}</ul>);\n    })\n    .fail(message => $(repoContainer).text(\"Error: \" + message));\n  \n  let makeGistListItem = (gist =>\n    <li><a href={gist.html_url}>{truncate(gist.description, 100)}</a></li>);\n  \n  GitHubAPI(\"users/qerub/gists\")\n    .then(data    => $(gistContainer).html(<ul>{data.map(makeGistListItem)}</ul>))\n    .fail(message => $(gistContainer).text(\"Error: \" + message));\n}\n\n$(main);\n"]}